<!DOCTYPE html>
<html>
<head>
    <title></title>
	<meta charset="utf-8" />
	<script>
		var text = [];
		function doTheThing(){

			var key = document.getElementById("bind").value;

			var output = "alias select"+alias+" \"bind "+key+" "+alias+";alias "+alias+" "+alias+"0; echo TextBindMenu_Selected_"+alias+";textbindmenustop\"\n";
			var text = text.trim().split("\n");
			for(var i = 0;i<text.length-1;i++){
				output += "alias "+alias+i+" \""+"say "+text[i]+";alias "+alias+" "+alias+(i+1)+"\"\n";
			}
			output += "alias "+alias+i+" \""+"say "+text[text.length-1]+";alias "+alias+" "+alias+"0\"\n";
			document.getElementById("output").value = output;
		}

		function goText() {
			alert("did the thing");
			text[text.length] = {
				text:document.getElementById("text").value.trim(),
				alias:document.getElementById("alias").value.trim(),
				textArray:document.getElementById("text").value.trim().split("\n")
			};
			document.getElementById("bindList").value += text[text.length - 1].alias + "\n";

		}
		function goMenu() {
			var out = "bind " + document.getElementById("up").value.trim() + " +menuUp\n";
			out += "bind " + document.getElementById("down").value.trim() + " +menuDown\n";
			out += "bind " + document.getElementById("select").value.trim() + " +menuSelect\n";
			out += "bind " + document.getElementById("bind").value.trim() + " +menuBind\n";
			out += "developer 1\ncon_filter_enable 2\ncon_filter_text <BindMenu>\ncon_filter_text_out\n";
			out += "alias +menuUp clear\nalias +menuDown clear\nalias +menuSelect clear\nalias +menuBind clear\n";
			out += "alias -menuUp menuSelect" + (text.length - 1) + "\n";
			out += "alias -menuDown menuSelect1\n";
			out += "alias -menuSelect bindSelectb0\n";
			out += "alias -menuBind \"echo <BindMenu>No Bind Selected\"\n";
			for (var i = 0; i < text.length; i++) {
				out += "alias menuSelect" + i + " \"alias -menuUp menuSelect" + ((i - 1 + text.length) % text.length) + ";alias -menuDown menuSelect" + ((i + 1 + text.length) % text.length) + ";alias -menuSelect bindSelectb" + i + ";";
				for (var j = 0; j < text.length; j++) {
					if (i == j){
						out += "echo |->|<BindMenu>"+text[j].alias+";";
					}
					else {
						out += "echo |  |<BindMenu>"+text[j].alias+";";
					}
				}
				out += "\"\n";
			}
			for (var i = 0; i < text.length; i++) {

			}
			for (var i = 0; i < text.length; i++) {

			}
			document.getElementById("output").value = out;
		}
	</script>
</head>
<body>
	
	<table>
		<tr>
			<td>
				<h2>Menu:</h2>
				Up: <input type="text" id="up"><br />
				Down: <input type="text" id="down"><br />
				Select: <input type="text" id="select"><br />
				Bind: <input type="text" id="bind"><br />
				<button onClick=goMenu()>Go</button><br />
				<textarea id="bindList" readonly cols="50" rows="15"></textarea>
			</td>
			<td>
				<h2>Entries:</h2>
				Text:<br />
				<textarea id="text" cols="50" rows="15"></textarea><br />
				Alias: <input type="text" id="alias"><br />
				<button onClick=goText()>Go</button><br />
			</td>
		</tr>
	</table>
	Output:<br />
	<textarea id="output" readonly cols="100" rows="15"></textarea>
</body>
</html>
